<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>DELTA ∆ Blockchain Scanner</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');
  :root {
    --black: #000000;
    --blue: #1e90ff;
    --blue-dark: #104e8b;
    --blue-light: #3da2ff;
    --white: #e0eaff;
    --delta-opacity: 0.12;
  }
  * {
    box-sizing: border-box;
  }
  html, body {
    margin: 0;
    background-color: var(--black);
    font-family: 'Montserrat', sans-serif;
    color: var(--white);
    height: 100%;
    overflow-x: hidden;
  }
  body {
    position: relative;
  }

  /* Large transparent Delta symbol as background */
  body::before {
    content: "∆";
    position: fixed;
    font-size: 40vw;
    font-weight: 900;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: var(--blue);
    opacity: var(--delta-opacity);
    user-select: none;
    pointer-events: none;
    z-index: 0;
    font-family: 'Montserrat', sans-serif;
    line-height: 1;
  }

  #app {
    position: relative;
    z-index: 1;
    max-width: 700px;
    margin: 0 auto;
    padding: 20px 24px 48px 24px;
  }

  #scanContainer {
    display: flex;
    align-items: center;
    gap: 14px;
    position: sticky;
    top: 0;
    background: var(--black);
    padding: 12px 0;
    border-bottom: 2px solid var(--blue);
    z-index: 10;
  }
  #scanInput {
    flex-grow: 1;
    min-width: 180px;
    padding: 14px 16px;
    font-size: 1.2rem;
    font-family: monospace;
    border-radius: 10px;
    border: 2px solid var(--blue);
    background-color: transparent;
    color: var(--white);
    outline-offset: 2px;
    transition: border-color 0.3s ease;
  }
  #scanInput::placeholder {
    color: var(--blue-light);
    opacity: 0.7;
  }
  #scanInput:focus {
    border-color: var(--blue-light);
  }
  #scanButton {
    padding: 14px 28px;
    font-size: 1.2rem;
    font-weight: 700;
    border-radius: 10px;
    background-color: var(--blue);
    border: none;
    color: var(--black);
    cursor: pointer;
    user-select: none;
    transition: background-color 0.3s ease;
    box-shadow: 0 0 8px var(--blue);
  }
  #scanButton:hover,
  #scanButton:focus {
    background-color: var(--blue-light);
  }

  #blocksList {
    margin-top: 28px;
    background-color: transparent;
    font-family: monospace;
    color: var(--blue-light);
    user-select: text;
    -webkit-overflow-scrolling: touch;
  }
  .block {
    display: flex;
    justify-content: space-between;
    border-bottom: 1px solid var(--blue-dark);
    padding: 14px 12px;
  }
  .block:last-child {
    border-bottom: none;
  }
  .blockNumber {
    font-weight: 700;
    color: var(--blue-light);
    min-width: 140px;
  }
  .blockType {
    font-weight: 700;
    flex-grow: 1;
    text-align: center;
    letter-spacing: 1.8px;
    color: var(--blue);
  }
  .deltaAmount {
    font-weight: 700;
    color: var(--blue-light);
    min-width: 160px;
    text-align: right;
  }
  .blockType.mint {
    color: #4dcB5a; /* accent green for Mint */
  }
  .blockType.withdrawal {
    color: #ff6a6a; /* subtle red for withdrawals */
  }

  /* Scroll container if needed */
  #blocksList {
    max-height: 360px;
    overflow-y: auto;
    border-radius: 10px;
  }
  /* Scrollbar styled lightly */
  #blocksList::-webkit-scrollbar {
    width: 8px;
  }
  #blocksList::-webkit-scrollbar-thumb {
    background-color: var(--blue-dark);
    border-radius: 6px;
  }
  /* Accessibility focus */
  .block:focus {
    outline: 2px solid var(--blue-light);
    outline-offset: 2px;
  }

  /* Special message styles */
  #burnMessage, #creatorMessage, #mintedMsg, #tokenInfoMessage {
    padding: 14px;
    font-weight: 700;
    text-align: center;
    font-family: monospace;
    border-radius: 10px;
    margin-top: 1rem;
  }
  #burnMessage {
    color: #ff5555;
    border: 2px solid #ff5555;
  }
  #creatorMessage {
    color: #37d637;
    border: 2px solid #37d637;
  }
  #mintedMsg {
    color: var(--blue-light);
    border: 2px solid var(--blue-light);
    margin-bottom: 0.35rem;
  }
  #tokenInfoMessage {
    color: #3df5a5;
    border: 2px solid #3df5a5;
    max-width: 400px;
    margin: 1rem auto 0;
    text-align: left;
    line-height: 1.4;
    font-size: 1rem;
  }
  #tokenInfoMessage b {
    color: var(--blue-light);
  }
</style>
</head>
<body>
  <div id="app" role="main">
    <section id="scanContainer" role="search" aria-label="Blockchain Scan Search">
      <input 
        id="scanInput" 
        type="text" 
        aria-label="Wallet address or transaction hash" 
        placeholder="Enter wallet address or transaction hash" 
        autocomplete="off"
        required 
      />
      <button id="scanButton" type="button" aria-label="Start scan">Scan</button>
    </section>
    <section id="blocksList" aria-live="polite" aria-atomic="true" role="region" aria-label="Blockchain blocks information"></section>
    <section id="specialMessages" aria-live="polite" aria-atomic="true" role="alert" style="margin-top:12px;"></section>
  </div>

  <script>
    const scanInput = document.getElementById('scanInput');
    const scanButton = document.getElementById('scanButton');
    const blocksList = document.getElementById('blocksList');
    const specialMessages = document.getElementById('specialMessages');

    const BURN_ADDRESS = '0x000000000000000000000000000000000000dead'.toLowerCase();
    const CREATOR_ADDRESS = '0x8369847804aD8028EeEe8F4C174c09c7ee524eD4'.toLowerCase();
    const TOKENINFO_ADDRESS = '0x14a3B555D0D29faf47a43bb53648042D64a2eE00'.toLowerCase();

    const blocksData = [
      { number: 1, type: 'Mint', description: 'Delta', amount: null },
      { number: 2, type: 'Withdrawal', description: null, amount: 300 },
      { number: 3, type: 'Withdrawal', description: null, amount: 350 },
      { number: 4, type: 'Withdrawal', description: null, amount: 250 },
      { number: 5, type: 'Withdrawal', description: null, amount: 420 },
      { number: 6, type: 'Withdrawal', description: null, amount: 280 },
      { number: 7, type: 'Withdrawal', description: null, amount: 390 },
      { number: 8, type: 'Withdrawal', description: null, amount: 210 }
    ];

    // Wallet validation:
    // Must start with 0x and followed by exactly 28 hex digits (0-9, a-f, A-F)
    // Total length 2 (0x) + 28 = 30 characters
    function isValidWalletAddress(addr) {
      return /^0x[a-fA-F0-9]{28}$/.test(addr);
    }

    function renderBlocks() {
      specialMessages.innerHTML = '';
      let html = '';
      blocksData.forEach(block => {
        html += `
          <div tabindex="0" class="block">
            <div class="blockNumber">Block Number ${block.number}</div>
            <div class="blockType ${block.type.toLowerCase()}">
              ${block.type === 'Mint' ? `${block.type} ${block.description}` : block.type}
            </div>
            <div class="deltaAmount">
              ${block.amount !== null ? `${block.amount} ∆` : ''}
            </div>
          </div>
        `;
      });
      blocksList.innerHTML = html;
      blocksList.style.display = 'block';
    }

    function renderBurnMessage() {
      blocksList.innerHTML = '';
      specialMessages.innerHTML = `<div id="burnMessage" tabindex="0">This is a Burn Address. Not a valid Address.</div>`;
    }

    function renderCreatorMessage(addr) {
      blocksList.innerHTML = '';
      specialMessages.innerHTML = `
        <div id="mintedMsg" tabindex="0">${addr} minted Delta</div>
        <div id="creatorMessage" tabindex="0">Creator of $DELTA</div>
      `;
    }

    function renderTokenInfo() {
      blocksList.innerHTML = '';
      specialMessages.innerHTML = `
        <div id="tokenInfoMessage" tabindex="0">
          <b>Name:</b> $DELTA<br/>
          <b>Price:</b> 0.001$<br/>
          <b>Symbol:</b> ∆<br/>
          <b>Total Supply:</b> 2B<br/>
          <b>Current Supply:</b> 1.99B<br/>
          <b>Maximum Supply:</b> ∞
        </div>
      `;
    }

    function showLoading() {
      blocksList.style.display = 'block';
      specialMessages.innerHTML = '';
      blocksList.innerHTML = `<p style="padding:1rem; text-align:center; color: var(--blue-light);">Scanning blockchain for DELTA token blocks...</p>`;
    }

    function processScan() {
      const val = scanInput.value.trim();
      const valLower = val.toLowerCase();

      // If input empty, reset to show 8 blocks
      if (val === '') {
        renderBlocks();
        return;
      }

      // Validate wallet or tx
      // Accept if matches wallet pattern OR if longer than 9 chars (to allow txhash & others)
      if (!valLower.startsWith('0x')) {
        alert('Address must start with "0x".');
        scanInput.focus();
        return;
      }
      // If input length is exactly 30 chars, validate wallet format
      if (val.length === 30) {
        if (!isValidWalletAddress(val)) {
          alert('Wallet address must start with "0x" followed by exactly 28 hex digits.');
          scanInput.focus();
          return;
        }
      } else if (val.length < 10) {
        alert('Please enter a valid wallet address or transaction hash of sufficient length.');
        scanInput.focus();
        return;
      }

      showLoading();

      setTimeout(() => {
        if (valLower === BURN_ADDRESS) {
          renderBurnMessage();
        } else if (valLower === CREATOR_ADDRESS) {
          renderCreatorMessage(val);
        } else if (valLower === TOKENINFO_ADDRESS) {
          renderTokenInfo();
        } else {
          renderBlocks();
        }
      }, 1300);
    }

    scanButton.addEventListener('click', processScan);

    scanInput.addEventListener('keydown', e => {
      if (e.key === 'Enter') {
        e.preventDefault();
        processScan();
      }
    });

    // Render blocks on page load by default
    window.addEventListener('DOMContentLoaded', () => {
      renderBlocks();
    });
  </script>
</body>
</html>

