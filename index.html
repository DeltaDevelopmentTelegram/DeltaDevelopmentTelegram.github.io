<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DELTA Tap Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    html, body { height: 100%; margin:0; background:#111; color:#fff; display:flex; align-items:center; justify-content:center; font-family:sans-serif; }
    .container { text-align:center; }
    #balance { font-size:2rem; margin-bottom:20px; }
    #tap { width:150px; height:150px; border:3px solid white; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:4rem; cursor:pointer; margin:0 auto 20px; }
    #tap:active { background:#fff; color:#000; transform:scale(0.95); }
  </style>
  <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
</head>
<body>
  <div class="container">
    <div id="balance">DELTA: 0.000</div>
    <div id="tap">Δ</div>
    <div id="ton-connect-button"></div>
    <div id="wallet-status" style="margin-top:10px;color:#ccc;font-size:0.9rem;">Wallet not connected</div>
  </div>

  <script>
    const BUNDLE_KEY = 'delta_balance';
    let balance = parseFloat(localStorage.getItem(BUNDLE_KEY) || 0);
    const balanceDisplay = document.getElementById('balance');
    const tapEl = document.getElementById('tap');
    const statusEl = document.getElementById('wallet-status');

    function updateBalance() {
      balanceDisplay.textContent = 'DELTA: ' + balance.toFixed(3);
    }
    updateBalance();

    tapEl.onclick = () => {
      balance += 0.001;
      localStorage.setItem(BUNDLE_KEY, balance.toFixed(6));
      updateBalance();
    };

    // TonConnect UI
    const tonConnectUI = new TON_CONNECT_UI.TonConnectUI({
      manifestUrl: 'https://deltadevelopmenttelegram.github.io/tonconnect-manifest.json',
      buttonRootId: 'ton-connect-button'
    });

    tonConnectUI.onStatusChange(wallet => {
      statusEl.textContent = wallet
        ? '✅ Connected: ' + wallet.account.address
        : 'Wallet not connected';
    });
  </script>
</body>
</html>
